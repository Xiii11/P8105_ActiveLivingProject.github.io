<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Exploratory Data Analysis</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="datasource.html">Data Source</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EDA
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="eda.html">Neighborhood Level</a>
    </li>
    <li>
      <a href="final.html">Borough Level</a>
    </li>
  </ul>
</li>
<li>
  <a href="model.html">Model Analysis</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="report.html">Final Report</a>
</li>
<li>
  <a href="about.html">The Team</a>
</li>
<li>
  <a href="mailto:&lt;ys3766@cumc.columbia.edu&gt;,&lt;qc2337@cumc.columbia.edu&gt;,&lt;aw3621@cumc.columbia.edu&gt;,&lt;xp2213@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/Xiii11/P8105_ActiveLivingProject.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Exploratory Data Analysis</h1>

</div>


<p>Load packages and import cleaned dataframes.</p>
<p>Firstly, we gain an initial understanding of the commuting patterns
across New York City’s boroughs by analyzing the distribution of various
commuting methods.A bar chart provides a clear visual representation of
the total amount of transportation modes used in each borough. A
percentage distribution bar chart is used to highlight the relative
popularity of each mode of transport within the boroughs.</p>
<pre class="r"><code>library(tidyverse)
library(janitor)
library(knitr)
library(gridExtra)
library(reshape2)
library(plotly)
library(haven)
library(sf)
knitr::opts_chunk$set(
  warning = FALSE, 
  message = FALSE,
  fig.align = &#39;center&#39;)

theme_set(theme_minimal() + theme(legend.position = &quot;bottom&quot;))

commuting_df = 
  read.csv(&quot;data/commuting.csv&quot;, na = c(&quot;NA&quot;,&quot;.&quot;,&quot;&quot;)) |&gt; 
   janitor::clean_names()

borough_df = 
  commuting_df  |&gt; 
  filter(geo_type_desc == &quot;Borough&quot;) |&gt; 
  mutate(
    across(c(bicycle_number, car_truck_or_van_number, public_transportation_number, walked_number),
                ~as.numeric(gsub(&quot;,&quot;, &quot;&quot;, .))))

commute_long =
  pivot_longer(borough_df, 
              cols = c(bicycle_number, 
                       car_truck_or_van_number, 
                       public_transportation_number, 
                       walked_number), 
                             names_to = &quot;Method&quot;, 
                             values_to = &quot;Count&quot;,
                             names_pattern = &quot;(.*)_number&quot;) </code></pre>
<div id="distribution-of-commuting-mode" class="section level2">
<h2><strong>Distribution of Commuting Mode</strong></h2>
<pre class="r"><code># Define custom colors for each borough
custom_colors = c(&quot;Bronx&quot; = &quot;lightpink&quot;, &quot;Brooklyn&quot; = &quot;darkolivegreen&quot;, &quot;Manhattan&quot; = &quot;gold&quot;, &quot;Queens&quot; = &quot;thistle&quot;, &quot;Staten Island&quot; = &quot;#a6cee3&quot;)

p1_plotly &lt;- plot_ly(data = commute_long, 
                     x = ~Method,  
                     y = ~Count,  
                     type = &#39;bar&#39;, 
                     color = ~geography, 
                     colors = custom_colors,  
                     text = ~paste(&quot;Borough: &quot;, geography, &quot;&lt;br&gt;Method: &quot;, Method, &quot;&lt;br&gt;Count: &quot;, Count),
                     hoverinfo = &#39;text&#39;, 
                     marker = list(line = list(color = &#39;black&#39;, width = 1))) |&gt;  
  layout(title = &quot;Commuting Methods by Borough&quot;,
         xaxis = list(title = &#39;Commuting Method&#39;, tickangle = 45),  
         yaxis = list(title = &#39;Count of Commuters&#39;), 
         barmode = &#39;group&#39;, 
         legend = list(title = &quot;Borough&quot;))  


ggplotly(p1_plotly, tooltip = &quot;text&quot;)</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-88ab83fa3602e814b0ae" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-88ab83fa3602e814b0ae">{"x":{"visdat":{"a2b23ab0e329":["function () ","plotlyVisDat"]},"cur_data":"a2b23ab0e329","attrs":{"a2b23ab0e329":{"x":{},"y":{},"text":{},"hoverinfo":"text","marker":{"line":{"color":"black","width":1}},"color":{},"colors":["lightpink","darkolivegreen","gold","thistle","#a6cee3"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Commuting Methods by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Commuting Method","tickangle":45,"type":"category","categoryorder":"array","categoryarray":["bicycle","car_truck_or_van","public_transportation","walked"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count of Commuters"},"barmode":"group","legend":{"title":"Borough"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["bicycle","car_truck_or_van","public_transportation","walked"],"y":[2589,164218,324274,41772],"text":["Borough:  Bronx <br>Method:  bicycle <br>Count:  2589","Borough:  Bronx <br>Method:  car_truck_or_van <br>Count:  164218","Borough:  Bronx <br>Method:  public_transportation <br>Count:  324274","Borough:  Bronx <br>Method:  walked <br>Count:  41772"],"hoverinfo":["text","text","text","text"],"marker":{"color":"rgba(255,182,193,1)","line":{"color":"black","width":1}},"type":"bar","name":"Bronx","textfont":{"color":"rgba(255,182,193,1)"},"error_y":{"color":"rgba(255,182,193,1)"},"error_x":{"color":"rgba(255,182,193,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bicycle","car_truck_or_van","public_transportation","walked"],"y":[24134,274494,663716,104403],"text":["Borough:  Brooklyn <br>Method:  bicycle <br>Count:  24134","Borough:  Brooklyn <br>Method:  car_truck_or_van <br>Count:  274494","Borough:  Brooklyn <br>Method:  public_transportation <br>Count:  663716","Borough:  Brooklyn <br>Method:  walked <br>Count:  104403"],"hoverinfo":["text","text","text","text"],"marker":{"color":"rgba(85,107,47,1)","line":{"color":"black","width":1}},"type":"bar","name":"Brooklyn","textfont":{"color":"rgba(85,107,47,1)"},"error_y":{"color":"rgba(85,107,47,1)"},"error_x":{"color":"rgba(85,107,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bicycle","car_truck_or_van","public_transportation","walked"],"y":[20706,67721,450560,167318],"text":["Borough:  Manhattan <br>Method:  bicycle <br>Count:  20706","Borough:  Manhattan <br>Method:  car_truck_or_van <br>Count:  67721","Borough:  Manhattan <br>Method:  public_transportation <br>Count:  450560","Borough:  Manhattan <br>Method:  walked <br>Count:  167318"],"hoverinfo":["text","text","text","text"],"marker":{"color":"rgba(255,215,0,1)","line":{"color":"black","width":1}},"type":"bar","name":"Manhattan","textfont":{"color":"rgba(255,215,0,1)"},"error_y":{"color":"rgba(255,215,0,1)"},"error_x":{"color":"rgba(255,215,0,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bicycle","car_truck_or_van","public_transportation","walked"],"y":[7082,437872,511929,64864],"text":["Borough:  Queens <br>Method:  bicycle <br>Count:  7082","Borough:  Queens <br>Method:  car_truck_or_van <br>Count:  437872","Borough:  Queens <br>Method:  public_transportation <br>Count:  511929","Borough:  Queens <br>Method:  walked <br>Count:  64864"],"hoverinfo":["text","text","text","text"],"marker":{"color":"rgba(216,191,216,1)","line":{"color":"black","width":1}},"type":"bar","name":"Queens","textfont":{"color":"rgba(216,191,216,1)"},"error_y":{"color":"rgba(216,191,216,1)"},"error_x":{"color":"rgba(216,191,216,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bicycle","car_truck_or_van","public_transportation","walked"],"y":[408,138342,57509,6023],"text":["Borough:  Staten Island <br>Method:  bicycle <br>Count:  408","Borough:  Staten Island <br>Method:  car_truck_or_van <br>Count:  138342","Borough:  Staten Island <br>Method:  public_transportation <br>Count:  57509","Borough:  Staten Island <br>Method:  walked <br>Count:  6023"],"hoverinfo":["text","text","text","text"],"marker":{"color":"rgba(166,206,227,1)","line":{"color":"black","width":1}},"type":"bar","name":"Staten Island","textfont":{"color":"rgba(166,206,227,1)"},"error_y":{"color":"rgba(166,206,227,1)"},"error_x":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The presented dataset examines the distribution of
<code>commuting methods</code> across different <code>boroughs</code>,
epresented by the total number of each transportation mode utilized.</p>
<p>Overall, the most prominent mode is public transportation. In
contrast, the use of bicycles is minimal across all boroughs, with
Staten Island reporting the lowest numbers. Walking as a commuting mode
demonstrates moderate levels, with Manhattan showing the highest
prevalence compared to other boroughs.</p>
</div>
<div id="percentage-distribution-of-commuting-mode"
class="section level2">
<h2><strong>Percentage Distribution of Commuting Mode</strong></h2>
<pre class="r"><code>commute_percent_long = 
  pivot_longer(borough_df, 
               cols = c(bicycle_percent, 
                        car_truck_or_van_percent,
                        public_transportation_percent, 
                        walked_percent), 
                                     names_to = &quot;Method&quot;, 
                                     values_to = &quot;Percent&quot;,
                                     names_pattern = &quot;(.*)_percent&quot;)


custom_colors = c(&quot;bicycle&quot; = &quot;lightpink&quot;, &quot;car_truck_or_van&quot; = &quot;darkolivegreen&quot;, &quot;public_transportation&quot; = &quot;gold&quot;, &quot;walked&quot; = &quot;thistle&quot;)

p2_plotly &lt;- plot_ly(data = commute_percent_long, 
                     x = ~geography,  
                     y = ~Percent, 
                     type = &#39;bar&#39;, 
                     color = ~Method, 
                     colors = custom_colors,  
                     text = ~paste(&quot;Borough: &quot;, geography, &quot;&lt;br&gt;Method: &quot;, Method, &quot;&lt;br&gt;Percentage: &quot;, sprintf(&quot;%.1f%%&quot;, Percent)),
                     hoverinfo = &#39;text&#39;,
                     marker = list(line = list(color = &#39;black&#39;, width = 1))) |&gt;  
  layout(title = &quot;Percentage Distribution of Commuting Methods by Borough&quot;,
         xaxis = list(title = &#39;Borough&#39;, tickangle = 45),
         yaxis = list(title = &#39;Percentage (%)&#39;, ticksuffix = &quot;%&quot;),
         barmode = &#39;stack&#39;,  
         legend = list(title = &quot;Commuting Method&quot;)) 

ggplotly(p2_plotly, tooltip = &quot;text&quot;)</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-c5b0e039cde7739a771e" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c5b0e039cde7739a771e">{"x":{"visdat":{"a2b24ffb7ac0":["function () ","plotlyVisDat"]},"cur_data":"a2b24ffb7ac0","attrs":{"a2b24ffb7ac0":{"x":{},"y":{},"text":{},"hoverinfo":"text","marker":{"line":{"color":"black","width":1}},"color":{},"colors":["lightpink","darkolivegreen","gold","thistle"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Percentage Distribution of Commuting Methods by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Borough","tickangle":45,"type":"category","categoryorder":"array","categoryarray":["Bronx","Brooklyn","Manhattan","Queens","Staten Island"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Percentage (%)","ticksuffix":"%"},"barmode":"stack","legend":{"title":"Commuting Method"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Staten Island","Bronx","Manhattan","Queens","Brooklyn"],"y":[0.20000000000000001,0.40000000000000002,2.2999999999999998,0.59999999999999998,2],"text":["Borough:  Staten Island <br>Method:  bicycle <br>Percentage:  0.2%","Borough:  Bronx <br>Method:  bicycle <br>Percentage:  0.4%","Borough:  Manhattan <br>Method:  bicycle <br>Percentage:  2.3%","Borough:  Queens <br>Method:  bicycle <br>Percentage:  0.6%","Borough:  Brooklyn <br>Method:  bicycle <br>Percentage:  2.0%"],"hoverinfo":["text","text","text","text","text"],"marker":{"color":"rgba(255,182,193,1)","line":{"color":"black","width":1}},"type":"bar","name":"bicycle","textfont":{"color":"rgba(255,182,193,1)"},"error_y":{"color":"rgba(255,182,193,1)"},"error_x":{"color":"rgba(255,182,193,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Staten Island","Bronx","Manhattan","Queens","Brooklyn"],"y":[63,28.399999999999999,7.5999999999999996,38.899999999999999,22.300000000000001],"text":["Borough:  Staten Island <br>Method:  car_truck_or_van <br>Percentage:  63.0%","Borough:  Bronx <br>Method:  car_truck_or_van <br>Percentage:  28.4%","Borough:  Manhattan <br>Method:  car_truck_or_van <br>Percentage:  7.6%","Borough:  Queens <br>Method:  car_truck_or_van <br>Percentage:  38.9%","Borough:  Brooklyn <br>Method:  car_truck_or_van <br>Percentage:  22.3%"],"hoverinfo":["text","text","text","text","text"],"marker":{"color":"rgba(85,107,47,1)","line":{"color":"black","width":1}},"type":"bar","name":"car_truck_or_van","textfont":{"color":"rgba(85,107,47,1)"},"error_y":{"color":"rgba(85,107,47,1)"},"error_x":{"color":"rgba(85,107,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Staten Island","Bronx","Manhattan","Queens","Brooklyn"],"y":[26.199999999999999,56.100000000000001,50.799999999999997,45.5,53.799999999999997],"text":["Borough:  Staten Island <br>Method:  public_transportation <br>Percentage:  26.2%","Borough:  Bronx <br>Method:  public_transportation <br>Percentage:  56.1%","Borough:  Manhattan <br>Method:  public_transportation <br>Percentage:  50.8%","Borough:  Queens <br>Method:  public_transportation <br>Percentage:  45.5%","Borough:  Brooklyn <br>Method:  public_transportation <br>Percentage:  53.8%"],"hoverinfo":["text","text","text","text","text"],"marker":{"color":"rgba(255,215,0,1)","line":{"color":"black","width":1}},"type":"bar","name":"public_transportation","textfont":{"color":"rgba(255,215,0,1)"},"error_y":{"color":"rgba(255,215,0,1)"},"error_x":{"color":"rgba(255,215,0,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Staten Island","Bronx","Manhattan","Queens","Brooklyn"],"y":[2.7000000000000002,7.2000000000000002,18.899999999999999,5.7999999999999998,8.5],"text":["Borough:  Staten Island <br>Method:  walked <br>Percentage:  2.7%","Borough:  Bronx <br>Method:  walked <br>Percentage:  7.2%","Borough:  Manhattan <br>Method:  walked <br>Percentage:  18.9%","Borough:  Queens <br>Method:  walked <br>Percentage:  5.8%","Borough:  Brooklyn <br>Method:  walked <br>Percentage:  8.5%"],"hoverinfo":["text","text","text","text","text"],"marker":{"color":"rgba(216,191,216,1)","line":{"color":"black","width":1}},"type":"bar","name":"walked","textfont":{"color":"rgba(216,191,216,1)"},"error_y":{"color":"rgba(216,191,216,1)"},"error_x":{"color":"rgba(216,191,216,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The presented dataset examines the percentage distribution of
commuting modes across New York City’s boroughs. The bar chart
highlights that public transportation is the most widely used commuting
mode in most boroughs, with over 50% of commuters relying on it in areas
like Manhattan, Queens, and the Bronx. In contrast, Staten Island
deviates from this trend, where cars, trucks, and vans dominate as the
primary commuting mode, accounting for the majority of transportation.
Walking also contributes notably in Manhattan, reflecting its dense
urban environment.</p>
<hr style="height: 5px; border: none; background: linear-gradient(to right, lightblue, white);">
</div>
<div id="distribution-of-obesity-in-2022" class="section level2">
<h2><strong>Distribution of Obesity in 2022</strong></h2>
<pre class="r"><code>overweight2022_df = 
  read.csv(&quot;data/overweight2022.csv&quot;, na = c(&quot;NA&quot;,&quot;.&quot;,&quot;&quot;)) |&gt; 
   janitor::clean_names()

overweight_df = read_csv(&quot;data/overweight2022.csv&quot;) |&gt; 
  clean_names()  |&gt; 
  mutate(
    obesity_rate_raw = percent,  
    percent_numeric = sub(&quot;\\s*\\(.*$&quot;, &quot;&quot;, percent),  
    obesity_rate = as.numeric(percent_numeric),  
    number_clean = as.numeric(gsub(&quot;,&quot;, &quot;&quot;, number))  
  ) |&gt;  
  filter(geo_type_desc == &quot;Borough&quot;) |&gt; 
  select(-percent_numeric)  

na_check = overweight_df |&gt;  
  filter(is.na(obesity_rate))

overweight_overall_df = read_csv(&quot;data/overweightoverall.csv&quot;) |&gt; 
  clean_names() |&gt; 
  mutate(
    obesity_rate = as.numeric(sub(&quot;\\s*\\(.*$&quot;, &quot;&quot;, percent)),  
    geo_type = tolower(geo_type)  
  ) |&gt; 
  filter(geo_type == &quot;borough&quot;)  

overweight2022_df = overweight2022_df  |&gt; 
  mutate(obesity_rate = as.numeric(sub(&quot;\\s*\\(.*\\)$&quot;, &quot;&quot;, percent))) 

borough_data = overweight2022_df  |&gt; 
  filter(geo_type_desc == &quot;Borough&quot;)

borough_with_highest_obesity = borough_data  |&gt; 
  filter(obesity_rate == max(obesity_rate))

custom_colors = c(&quot;lightpink&quot;, &quot;darkolivegreen&quot;, &quot;gold&quot;, &quot;thistle&quot;, &quot;#a6cee3&quot;)

obesity_plotly &lt;- plot_ly(data = overweight_df, 
                          x = ~geography, 
                          y = ~obesity_rate, 
                          type = &#39;bar&#39;, 
                          color = ~geography, 
                          colors = custom_colors,
                          text = ~paste(&quot;Obesity Rate: &quot;, obesity_rate, &quot;%&lt;br&gt;Number: &quot;, number_clean),  
                          hoverinfo = &#39;text&#39;,
                           marker = list(line = list(color = &#39;black&#39;, width = 1))) |&gt;  
  layout(title = &quot;Obesity Rates and Numbers by Borough in NYC, 2022&quot;,
         xaxis = list(title = &quot;Borough&quot;, tickangle = 45),
         yaxis = list(title = &quot;Obesity Rate (%)&quot;),
         legend = list(title = &quot;Borough&quot;))
ggplotly(obesity_plotly, tooltip = &quot;text&quot;)</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-fd6e951157e57afae640" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-fd6e951157e57afae640">{"x":{"visdat":{"a2b257723854":["function () ","plotlyVisDat"]},"cur_data":"a2b257723854","attrs":{"a2b257723854":{"x":{},"y":{},"text":{},"hoverinfo":"text","marker":{"line":{"color":"black","width":1}},"color":{},"colors":["lightpink","darkolivegreen","gold","thistle","#a6cee3"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Obesity Rates and Numbers by Borough in NYC, 2022","xaxis":{"domain":[0,1],"automargin":true,"title":"Borough","tickangle":45,"type":"category","categoryorder":"array","categoryarray":["Bronx","Brooklyn","Manhattan","Queens","Staten Island"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Obesity Rate (%)"},"legend":{"title":"Borough"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Bronx"],"y":[65.5],"text":"Obesity Rate:  65.5 %<br>Number:  693000","hoverinfo":"text","marker":{"color":"rgba(255,182,193,1)","line":{"color":"black","width":1}},"type":"bar","name":"Bronx","textfont":{"color":"rgba(255,182,193,1)"},"error_y":{"color":"rgba(255,182,193,1)"},"error_x":{"color":"rgba(255,182,193,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Brooklyn"],"y":[54.600000000000001],"text":"Obesity Rate:  54.6 %<br>Number:  1120000","hoverinfo":"text","marker":{"color":"rgba(85,107,47,1)","line":{"color":"black","width":1}},"type":"bar","name":"Brooklyn","textfont":{"color":"rgba(85,107,47,1)"},"error_y":{"color":"rgba(85,107,47,1)"},"error_x":{"color":"rgba(85,107,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Manhattan"],"y":[48.399999999999999],"text":"Obesity Rate:  48.4 %<br>Number:  661000","hoverinfo":"text","marker":{"color":"rgba(255,215,0,1)","line":{"color":"black","width":1}},"type":"bar","name":"Manhattan","textfont":{"color":"rgba(255,215,0,1)"},"error_y":{"color":"rgba(255,215,0,1)"},"error_x":{"color":"rgba(255,215,0,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Queens"],"y":[57.399999999999999],"text":"Obesity Rate:  57.4 %<br>Number:  1081000","hoverinfo":"text","marker":{"color":"rgba(216,191,216,1)","line":{"color":"black","width":1}},"type":"bar","name":"Queens","textfont":{"color":"rgba(216,191,216,1)"},"error_y":{"color":"rgba(216,191,216,1)"},"error_x":{"color":"rgba(216,191,216,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Staten Island"],"y":[61.899999999999999],"text":"Obesity Rate:  61.9 %<br>Number:  234000","hoverinfo":"text","marker":{"color":"rgba(166,206,227,1)","line":{"color":"black","width":1}},"type":"bar","name":"Staten Island","textfont":{"color":"rgba(166,206,227,1)"},"error_y":{"color":"rgba(166,206,227,1)"},"error_x":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The above graph showcases the obesity rates and corresponding numbers
across various boroughs in NYC for the year 2022. The data is
represented by a bar chart, where each color-coded bar corresponds to a
different borough. The Bronx stands out with the highest obesity rate,
significantly surpassing the other boroughs, whereas Manhattan reports
the lowest rate, indicating a stark contrast in obesity prevalence
within the city. Queens, Brooklyn, and Staten Island exhibit moderate
obesity rates, illustrating varied health profiles across these
regions.</p>
</div>
<div id="trend-of-obesity-rate-by-year" class="section level2">
<h2><strong>Trend of Obesity Rate by Year</strong></h2>
<pre class="r"><code>custom_colors = c(&quot;lightpink&quot;, &quot;darkolivegreen&quot;, &quot;gold&quot;, &quot;thistle&quot;, &quot;#a6cee3&quot;)

obesity_trend_plotly &lt;- plot_ly(data = overweight_overall_df, 
                                x = ~time_period, 
                                y = ~obesity_rate, 
                                type = &#39;scatter&#39;, 
                                mode = &#39;lines+markers&#39;, 
                                color = ~geography, 
                                colors = custom_colors,
                                text = ~paste(&quot;Borough: &quot;, geography, 
                                              &quot;&lt;br&gt;Year: &quot;, time_period, 
                                              &quot;&lt;br&gt;Rate: &quot;, sprintf(&quot;%.1f%%&quot;, obesity_rate)),  # Dynamic text evaluation for hover
                                hoverinfo = &#39;text&#39;) |&gt; 
  layout(title = &quot;Trend of Obesity Rates by Year and Borough&quot;,
         xaxis = list(title = &quot;Year&quot;, tickangle = 45),
         yaxis = list(title = &quot;Obesity Rate (%)&quot;),
         legend = list(title = &quot;Borough&quot;)) 

ggplotly(obesity_trend_plotly, tooltip = &quot;text&quot;)</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ac1e28149641bf9563b1" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ac1e28149641bf9563b1">{"x":{"visdat":{"a2b21502b159":["function () ","plotlyVisDat"]},"cur_data":"a2b21502b159","attrs":{"a2b21502b159":{"x":{},"y":{},"mode":"lines+markers","text":{},"hoverinfo":"text","color":{},"colors":["lightpink","darkolivegreen","gold","thistle","#a6cee3"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Trend of Obesity Rates by Year and Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","tickangle":45},"yaxis":{"domain":[0,1],"automargin":true,"title":"Obesity Rate (%)"},"legend":{"title":"Borough"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003],"y":[65.5,63.899999999999999,67.599999999999994,66.200000000000003,65.5,69.299999999999997,70.200000000000003,66.5,67.900000000000006,68.900000000000006,64.5,66.299999999999997,69,67.5,67.799999999999997,65.200000000000003,64.700000000000003,64.099999999999994,64.200000000000003,62.899999999999999],"mode":"lines+markers","text":["Borough:  Bronx <br>Year:  2022 <br>Rate:  65.5%","Borough:  Bronx <br>Year:  2021 <br>Rate:  63.9%","Borough:  Bronx <br>Year:  2020 <br>Rate:  67.6%","Borough:  Bronx <br>Year:  2019 <br>Rate:  66.2%","Borough:  Bronx <br>Year:  2018 <br>Rate:  65.5%","Borough:  Bronx <br>Year:  2017 <br>Rate:  69.3%","Borough:  Bronx <br>Year:  2016 <br>Rate:  70.2%","Borough:  Bronx <br>Year:  2015 <br>Rate:  66.5%","Borough:  Bronx <br>Year:  2014 <br>Rate:  67.9%","Borough:  Bronx <br>Year:  2013 <br>Rate:  68.9%","Borough:  Bronx <br>Year:  2012 <br>Rate:  64.5%","Borough:  Bronx <br>Year:  2011 <br>Rate:  66.3%","Borough:  Bronx <br>Year:  2010 <br>Rate:  69.0%","Borough:  Bronx <br>Year:  2009 <br>Rate:  67.5%","Borough:  Bronx <br>Year:  2008 <br>Rate:  67.8%","Borough:  Bronx <br>Year:  2007 <br>Rate:  65.2%","Borough:  Bronx <br>Year:  2006 <br>Rate:  64.7%","Borough:  Bronx <br>Year:  2005 <br>Rate:  64.1%","Borough:  Bronx <br>Year:  2004 <br>Rate:  64.2%","Borough:  Bronx <br>Year:  2003 <br>Rate:  62.9%"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"scatter","name":"Bronx","marker":{"color":"rgba(255,182,193,1)","line":{"color":"rgba(255,182,193,1)"}},"textfont":{"color":"rgba(255,182,193,1)"},"error_y":{"color":"rgba(255,182,193,1)"},"error_x":{"color":"rgba(255,182,193,1)"},"line":{"color":"rgba(255,182,193,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003],"y":[54.600000000000001,55.799999999999997,55.799999999999997,58.899999999999999,59.899999999999999,58.200000000000003,59,58.399999999999999,58.700000000000003,56.100000000000001,56.799999999999997,60.399999999999999,59.700000000000003,59.100000000000001,58.799999999999997,60.799999999999997,59,58.399999999999999,56.899999999999999,57.100000000000001],"mode":"lines+markers","text":["Borough:  Brooklyn <br>Year:  2022 <br>Rate:  54.6%","Borough:  Brooklyn <br>Year:  2021 <br>Rate:  55.8%","Borough:  Brooklyn <br>Year:  2020 <br>Rate:  55.8%","Borough:  Brooklyn <br>Year:  2019 <br>Rate:  58.9%","Borough:  Brooklyn <br>Year:  2018 <br>Rate:  59.9%","Borough:  Brooklyn <br>Year:  2017 <br>Rate:  58.2%","Borough:  Brooklyn <br>Year:  2016 <br>Rate:  59.0%","Borough:  Brooklyn <br>Year:  2015 <br>Rate:  58.4%","Borough:  Brooklyn <br>Year:  2014 <br>Rate:  58.7%","Borough:  Brooklyn <br>Year:  2013 <br>Rate:  56.1%","Borough:  Brooklyn <br>Year:  2012 <br>Rate:  56.8%","Borough:  Brooklyn <br>Year:  2011 <br>Rate:  60.4%","Borough:  Brooklyn <br>Year:  2010 <br>Rate:  59.7%","Borough:  Brooklyn <br>Year:  2009 <br>Rate:  59.1%","Borough:  Brooklyn <br>Year:  2008 <br>Rate:  58.8%","Borough:  Brooklyn <br>Year:  2007 <br>Rate:  60.8%","Borough:  Brooklyn <br>Year:  2006 <br>Rate:  59.0%","Borough:  Brooklyn <br>Year:  2005 <br>Rate:  58.4%","Borough:  Brooklyn <br>Year:  2004 <br>Rate:  56.9%","Borough:  Brooklyn <br>Year:  2003 <br>Rate:  57.1%"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"scatter","name":"Brooklyn","marker":{"color":"rgba(85,107,47,1)","line":{"color":"rgba(85,107,47,1)"}},"textfont":{"color":"rgba(85,107,47,1)"},"error_y":{"color":"rgba(85,107,47,1)"},"error_x":{"color":"rgba(85,107,47,1)"},"line":{"color":"rgba(85,107,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003],"y":[48.399999999999999,44.799999999999997,45.799999999999997,47.600000000000001,48.100000000000001,44.399999999999999,45.899999999999999,47.299999999999997,47.5,47.799999999999997,45.399999999999999,47.100000000000001,47.100000000000001,45.5,48.600000000000001,47.200000000000003,44.899999999999999,41.5,45.5,45.100000000000001],"mode":"lines+markers","text":["Borough:  Manhattan <br>Year:  2022 <br>Rate:  48.4%","Borough:  Manhattan <br>Year:  2021 <br>Rate:  44.8%","Borough:  Manhattan <br>Year:  2020 <br>Rate:  45.8%","Borough:  Manhattan <br>Year:  2019 <br>Rate:  47.6%","Borough:  Manhattan <br>Year:  2018 <br>Rate:  48.1%","Borough:  Manhattan <br>Year:  2017 <br>Rate:  44.4%","Borough:  Manhattan <br>Year:  2016 <br>Rate:  45.9%","Borough:  Manhattan <br>Year:  2015 <br>Rate:  47.3%","Borough:  Manhattan <br>Year:  2014 <br>Rate:  47.5%","Borough:  Manhattan <br>Year:  2013 <br>Rate:  47.8%","Borough:  Manhattan <br>Year:  2012 <br>Rate:  45.4%","Borough:  Manhattan <br>Year:  2011 <br>Rate:  47.1%","Borough:  Manhattan <br>Year:  2010 <br>Rate:  47.1%","Borough:  Manhattan <br>Year:  2009 <br>Rate:  45.5%","Borough:  Manhattan <br>Year:  2008 <br>Rate:  48.6%","Borough:  Manhattan <br>Year:  2007 <br>Rate:  47.2%","Borough:  Manhattan <br>Year:  2006 <br>Rate:  44.9%","Borough:  Manhattan <br>Year:  2005 <br>Rate:  41.5%","Borough:  Manhattan <br>Year:  2004 <br>Rate:  45.5%","Borough:  Manhattan <br>Year:  2003 <br>Rate:  45.1%"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"scatter","name":"Manhattan","marker":{"color":"rgba(255,215,0,1)","line":{"color":"rgba(255,215,0,1)"}},"textfont":{"color":"rgba(255,215,0,1)"},"error_y":{"color":"rgba(255,215,0,1)"},"error_x":{"color":"rgba(255,215,0,1)"},"line":{"color":"rgba(255,215,0,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003],"y":[57.399999999999999,54.600000000000001,60.899999999999999,59.899999999999999,60.399999999999999,58.200000000000003,56.600000000000001,57.200000000000003,59.600000000000001,53.700000000000003,55.899999999999999,55.399999999999999,57,56.100000000000001,56.600000000000001,56.299999999999997,54.899999999999999,54.600000000000001,55.299999999999997,52.700000000000003],"mode":"lines+markers","text":["Borough:  Queens <br>Year:  2022 <br>Rate:  57.4%","Borough:  Queens <br>Year:  2021 <br>Rate:  54.6%","Borough:  Queens <br>Year:  2020 <br>Rate:  60.9%","Borough:  Queens <br>Year:  2019 <br>Rate:  59.9%","Borough:  Queens <br>Year:  2018 <br>Rate:  60.4%","Borough:  Queens <br>Year:  2017 <br>Rate:  58.2%","Borough:  Queens <br>Year:  2016 <br>Rate:  56.6%","Borough:  Queens <br>Year:  2015 <br>Rate:  57.2%","Borough:  Queens <br>Year:  2014 <br>Rate:  59.6%","Borough:  Queens <br>Year:  2013 <br>Rate:  53.7%","Borough:  Queens <br>Year:  2012 <br>Rate:  55.9%","Borough:  Queens <br>Year:  2011 <br>Rate:  55.4%","Borough:  Queens <br>Year:  2010 <br>Rate:  57.0%","Borough:  Queens <br>Year:  2009 <br>Rate:  56.1%","Borough:  Queens <br>Year:  2008 <br>Rate:  56.6%","Borough:  Queens <br>Year:  2007 <br>Rate:  56.3%","Borough:  Queens <br>Year:  2006 <br>Rate:  54.9%","Borough:  Queens <br>Year:  2005 <br>Rate:  54.6%","Borough:  Queens <br>Year:  2004 <br>Rate:  55.3%","Borough:  Queens <br>Year:  2003 <br>Rate:  52.7%"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"scatter","name":"Queens","marker":{"color":"rgba(216,191,216,1)","line":{"color":"rgba(216,191,216,1)"}},"textfont":{"color":"rgba(216,191,216,1)"},"error_y":{"color":"rgba(216,191,216,1)"},"error_x":{"color":"rgba(216,191,216,1)"},"line":{"color":"rgba(216,191,216,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003],"y":[61.899999999999999,56.700000000000003,68.099999999999994,64.700000000000003,67.299999999999997,61.399999999999999,62.399999999999999,61.299999999999997,65.099999999999994,64.200000000000003,64.799999999999997,70.299999999999997,62.299999999999997,57.399999999999999,65.900000000000006,61.200000000000003,62.899999999999999,55.600000000000001,66.700000000000003,53.100000000000001],"mode":"lines+markers","text":["Borough:  Staten Island <br>Year:  2022 <br>Rate:  61.9%","Borough:  Staten Island <br>Year:  2021 <br>Rate:  56.7%","Borough:  Staten Island <br>Year:  2020 <br>Rate:  68.1%","Borough:  Staten Island <br>Year:  2019 <br>Rate:  64.7%","Borough:  Staten Island <br>Year:  2018 <br>Rate:  67.3%","Borough:  Staten Island <br>Year:  2017 <br>Rate:  61.4%","Borough:  Staten Island <br>Year:  2016 <br>Rate:  62.4%","Borough:  Staten Island <br>Year:  2015 <br>Rate:  61.3%","Borough:  Staten Island <br>Year:  2014 <br>Rate:  65.1%","Borough:  Staten Island <br>Year:  2013 <br>Rate:  64.2%","Borough:  Staten Island <br>Year:  2012 <br>Rate:  64.8%","Borough:  Staten Island <br>Year:  2011 <br>Rate:  70.3%","Borough:  Staten Island <br>Year:  2010 <br>Rate:  62.3%","Borough:  Staten Island <br>Year:  2009 <br>Rate:  57.4%","Borough:  Staten Island <br>Year:  2008 <br>Rate:  65.9%","Borough:  Staten Island <br>Year:  2007 <br>Rate:  61.2%","Borough:  Staten Island <br>Year:  2006 <br>Rate:  62.9%","Borough:  Staten Island <br>Year:  2005 <br>Rate:  55.6%","Borough:  Staten Island <br>Year:  2004 <br>Rate:  66.7%","Borough:  Staten Island <br>Year:  2003 <br>Rate:  53.1%"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"scatter","name":"Staten Island","marker":{"color":"rgba(166,206,227,1)","line":{"color":"rgba(166,206,227,1)"}},"textfont":{"color":"rgba(166,206,227,1)"},"error_y":{"color":"rgba(166,206,227,1)"},"error_x":{"color":"rgba(166,206,227,1)"},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This graph shows the changes in obesity rates across New York City’s
boroughs from the early 2000s to 2022. Matching with what we had in last
graph, the Bronx has consistently high obesity rates, suggesting ongoing
health challenges there. Manhattan generally has the lowest rates,
possibly due to different lifestyle factors. Brooklyn, Queens, and
Staten Island show varied rates over the years, with ups and downs. We
will explore more on the relationship between obesity and other factors
in the model page.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
